<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONCHING</title>
    <link rel="icon" type="image/svg+xml" href="Image/logo.png">

    <!-- Bootstrap CSS 했음-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>
    <link rel="stylesheet" href="./css/style.css">

    <!-- jquery 했음 -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" crossorigin="anonymous"></script>
    <script src="./js/jscript.js"></script>

    <!-- ipfs 했음-->
    <script src="./js/buffer.js"></script>
    <script src="https://unpkg.com/ipfs-api/dist/index.js" crossorigin="anonymous"></script>
    <script>
        function updateFileName() {
            var fileInput = document.getElementById('uploadfile');
            var fileDisplayArea = document.getElementById('file-display');

            // Check if any file is selected
            if (fileInput.files.length > 0) {
                var fileName = fileInput.files[0].name;
                fileDisplayArea.value = fileName;
            }
        }
    </script>

    <!-- blockchain-->
    <script type="text/javascript" src='./js/abi.js'></script>
    <script type="text/javascript" src='./js/web3.min.js'></script>
    <script>
        $(window).load(async function () {

        });

    </script>
    <!-- Contracts.mjs-->
    <script src="js/abj.js"></script>

    <script>
        $(document).ready(function () {
            // 메타마스크 연결 및 초기화 함수
            async function initializeMetaMask() {
                // 메타마스크 설치 여부 확인

                if (typeof window.ethereum !== "undefined") {
                    console.log("메타마스크가 설치되었습니다.");
                    try {
                        // 메타마스크 연결 요청
                        $("#resultbrowsers").text("메타마스크 연결하세요!");
                        const accounts = await ethereum.request({method: "eth_requestAccounts"});
                        $("#showAccount").text(accounts[0]);
                        $("#resultbrowsers").html("<span id='checkmark'>✔</span> 메타마스크에 연결되었습니다.").addClass('green-alert');
                        // 3초 뒤에 알림 숨기기
                        setTimeout(function () {
                            $("#resultbrowsers").fadeOut();
                        }, 3000);

                        // Web3 인스턴스 생성
                        window.web3 = new Web3(window.ethereum);
                        // 필요한 경우 여기에 블록체인 인터렉티브 코드를 추가한다.
                    } catch (error) {
                        console.log(`에러: ${error}`);
                        $("#resultbrowsers").html("<span id='checkmark'>x</span> 메타마스크 연결에 실패했습니다.").addClass('orange-alert');
                    }
                } else {
                    $("#resultbrowsers").html("<span id='checkmark'>x</span> 메타마스크가 설치되어 있지 않습니다.").addClass('orange-alert');
                }
            }

            //함수 메타마스크 호출
            initializeMetaMask();
        });
    </script>
</head>
<body>
<header>
    <!-- Fixed navbar -->

    <nav aria-label="Eighth navbar example" class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="Image/logo.png" alt="Logo" style="height: 40px; margin-right: 5px;">CONCHING
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarsExample07"
                    aria-controls="navbarsExample07" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarsExample07">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html"></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="mynft.html">조회</a>
                    </li>
                    <li class="nav-my favorite">
                        <a class="nav-link" href="mygift.html"><b style="color: white;">Gifticon</b></a>
                    </li>
                </ul>

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-warning" id="btn_setApprovalForAll">거래하기</button>
                    <script>
                        document.getElementById('btn_setApprovalForAll').addEventListener('click', function () {
                            window.location.href = 'https://chidokun.github.io/p2p-file-transfer/';
                        });
                    </script>
                </div>
            </div>
        </div>
    </nav>
</header>
<header>
    <section class="section">
        <div class="tt-wrap"><h2><a href="/event/eventDetail.mhows?disp_no=180&amp;type=1"><strong>인기 기프티콘</strong></a>
            </h2><a href="/event/eventDetail.mhows?disp_no=180&amp;type=1" class="btn-more _price-link">더보기</a>
        </div>
        <div class="pop-brand _price">
            <ul>
                <li>
                    <a href="#none" class="on">
                        <span class="img-wrap"><img src="Image/price_01.png" alt=""></span>
                        <span>~ 1만원</span>
                    </a>
                </li>
                <li>
                    <a href="#none">
                        <span class="img-wrap"><img src="Image/price_02.png" alt=""></span>
                        <span>1 ~ 3만원</span>
                    </a>
                </li>
                <li>
                    <a href="#none">
                        <span class="img-wrap"><img src="Image/price_03.png" alt=""></span>
                        <span>3 ~ 5만원</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="itemListWrap">
            <ul class="item-list _priceList">
                <li><a href="javascript:goDetail('G00001284055', '7');">
                    <div class="img-wrap"><img src="Image/G00001284055.jpg" alt=""></div>
                    <div class="txt-wrap"><span class="brand-nm">스타벅스</span>
                        <p class="item-nm">아이스 카페 아메리카노 T</p>
                        <div class="price-area">
                            <div><strong class="price">4,500</strong></div>
                        </div>
                    </div>
                </a></li>
                <li><a href="javascript:goDetail('G00000410767', '613');">
                    <div class="img-wrap"><img src="Image/G00000410767.jpg" alt=""></div>
                    <div class="txt-wrap"><span class="brand-nm">편의점금액권(일반)</span>
                        <p class="item-nm">CU 모바일상품권 5천원권</p>
                        <div class="price-area">
                            <div><strong class="price">5,000</strong></div>
                        </div>
                    </div>
                </a></li>
                <li><a href="javascript:goDetail('G00000631091', '613');">
                    <div class="img-wrap"><img src="Image/G00000631091.jpg" alt=""></div>
                    <div class="txt-wrap"><span class="brand-nm">편의점금액권(일반)</span>
                        <p class="item-nm">GS25 모바일상품권 5천원권</p>
                        <div class="price-area">
                            <div><strong class="price">5,000</strong></div>
                        </div>
                    </div>
                </a></li>
                <li><a href="javascript:goDetail('G00001810962', '758');">
                    <div class="img-wrap"><img src="Image/G00001810962.jpg" alt=""></div>
                    <div class="txt-wrap"><span class="brand-nm">빽다방</span>
                        <p class="item-nm">아메리카노(HOT)</p>
                        <div class="price-area">
                            <div><strong class="price">1,500</strong></div>
                        </div>
                    </div>
                </a></li>
            </ul>
        </div>
    </section>
    <section class="section">
        <div class="tt-wrap"><h2> <a href="javascript:common_goUrl('/theme/theme.mhows?disp_no_temp=632')"><strong>추천 기프티콘</strong></a> </h2><a href="javascript:common_goUrl('/theme/theme.mhows?disp_no_temp=632')"
                                       class="btn-more">더보기</a></div>
        <div class="itemListWrap">
            <ul class="item-list">

                <li>
                    <a href="javascript:goDetail('G00002161072','983');">
                        <div class="img-wrap">
                            <img src="Image/G00002161072.jpg" alt="">
                        </div>
                        <div class="txt-wrap">
                            <span class="brand-nm">인생네컷</span>
                            <p class="item-nm">일반네컷 2회 촬영권</p>
                            <div class="price-area">
                                <div>

                                    <strong class="price">8,000</strong>

                                </div>

                            </div>

                        </div>
                    </a>
                </li>

                <li>
                    <a href="javascript:goDetail('G00001960969','640');">
                        <div class="img-wrap">
                            <img src="Image/G00001960969.jpg" alt="">
                        </div>
                        <div class="txt-wrap">
                            <span class="brand-nm">쉐이크쉑</span>
                            <p class="item-nm">쉑버거 2개+치킨쉑2개+프라이+치즈 프라이+소다(S) 4잔</p>
                            <div class="price-area">
                                <div>

                                    <strong class="price">55,100</strong>

                                </div>

                            </div>

                        </div>
                    </a>
                </li>

                <li>
                    <a href="javascript:goDetail('G00002081205','642');">
                        <div class="img-wrap">
                            <img src="Image/G00002081205.png" alt="">
                        </div>
                        <div class="txt-wrap">
                            <span class="brand-nm">배스킨라빈스</span>
                            <p class="item-nm">옹기종기팩</p>
                            <div class="price-area">
                                <div>

                                    <strong class="price">31,200</strong>

                                </div>

                            </div>

                        </div>
                    </a>
                </li>

                <li>
                    <a href="javascript:goDetail('G00001420777','81');">
                        <div class="img-wrap">
                            <img src="Image/G00001420777.jpg" alt="">
                        </div>
                        <div class="txt-wrap">
                            <span class="brand-nm">투썸플레이스</span>
                            <p class="item-nm">파티팩 스트로베리 초콜릿 생크림</p>
                            <div class="price-area">
                                <div>

                                    <strong class="price">40,200</strong>

                                </div>

                            </div>

                        </div>
                    </a>
                </li>

            </ul>
        </div>
    </section>
</header>
</body>
</html>